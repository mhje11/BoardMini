<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>상세보기</title>
    <link rel="stylesheet" th:href="@{/css/detail.css}">
</head>
<body>
<div class="container">
    <h1 th:text="${board.title}"></h1>
    <div>
        <p th:text="'글쓴이: ' + ${board.name}"></p>
        <p th:text="'내용: ' + ${board.content}"></p>
        <p th:text="'수정일/작성일: ' + ${#temporals.format(board.created_at, 'yyyy/MM/dd/ HH:mm')}"></p>
    </div>

    <form th:action="@{/list/like/{boardId}(boardId=${board.id})}" method="post">
        <button type="submit">좋아요</button>
        <span th:text="'좋아요 수: ' + ${board.likes}"></span>
    </form>

    <h2>댓글</h2>
    <ul>
        <li th:each="comment : ${comments}" th:if="${comment.boardId == board.id}">
            <p th:text="${comment.username + ' : ' + comment.content}"></p>
            <a th:href="@{/list/comments/edit/{commentId}(commentId=${comment.id})}">수정</a>
            <a th:href="@{/list/comments/delete/{commentId}(commentId=${comment.id})}">삭제</a>
        </li>
    </ul>

    <form th:action="@{/list/comments/{boardId}(boardId=${board.id})}" method="post">
        <label for="username">이름</label>
        <input type="text" id="username" th:field="*{newComment.username}" required>
        <br>
        <label for="content">댓글</label>
        <input type="text" id="content" th:field="*{newComment.content}" required>
        <button type="submit">댓글 작성</button>
    </form>

    <a th:href="@{/list}">게시글 목록</a>
    <a th:href="@{/list/updateform/{id}(id=${board.id})}">글 수정</a>
    <a th:href="@{/list/deleteform/{id}(id=${board.id})}">글 삭제</a>
</div>

</body>
</html>
